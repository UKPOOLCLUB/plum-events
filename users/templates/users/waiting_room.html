{% extends "base.html" %}

{% block content %}
<script>
  document.body.dataset.pollingUrl = "{% url 'event_state' event.code %}";
  window.leaderboardRedirectUrl = "{% url 'live_leaderboard' event.code %}";
</script>

<div class="container d-flex flex-column justify-content-center align-items-center vh-100 text-center">

    <h2 class="neon-heading mb-2">⏳ Waiting Room</h2>
    <h4 class="text-muted mb-3">for <strong>{{ event.name }}</strong></h4>
    <p class="text-light">Event Code: <span class="text-accent">{{ event.code }}</span></p>

    <div class="w-100" style="max-width: 400px;">
        <h5 class="mt-4 text-accent">Players Joined:</h5>
        <ul class="list-group mb-3">
            {% for participant in participants %}
                <li class="list-group-item bg-dark text-light border-accent">
                    {{ participant.username }}
                </li>
            {% empty %}
                <li class="list-group-item text-muted">No players yet.</li>
            {% endfor %}
        </ul>
    </div>

    <p class="text-secondary mt-3 blink">🎮 Waiting for the host to start the event...</p>

</div>
{% endblock %}
