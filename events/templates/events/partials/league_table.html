{% if league_completed %}
  <h3 class="text-center text-success mb-3">🏁 Final Standings</h3>
{% else %}
  <h3 class="text-center text-info mb-3">📊 Current League Standings</h3>
{% endif %}

<table class="table table-dark table-bordered text-center">
  <thead>
    <tr>
      <th>Rank</th>
      <th>Player</th>
      <th>Played</th>
      <th>Wins</th>
      <th>Points</th>
    </tr>
  </thead>
  <tbody>
    {% for player in all_players|dictsortreversed:"wins" %}
      <tr class="{% if player == current_player %}table-success{% endif %}">
        <td>{{ forloop.counter }}</td>
        <td>{{ player.participant.username }}</td>
        <td>{{ player.wins|add:player.losses|default:0 }}</td>
        <td>{{ player.wins }}</td>
        <td>{{ player.points_awarded|default:"–" }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
